<section class="bookstore" fxFlex fxLayout="column">
    <div class="table">

        <!-- Filter / pretraga -->
        <div fxLayoutAlign="center center">
            <mat-form-field fxFlex="35%">
                <input matInput type="text" (keyup)="doFilter($any($event.target).value)" placeholder="Search">
            </mat-form-field>
        </div>

        <mat-table [dataSource]="bookSource" matSort>

            <!-- Name -->
            <ng-container matColumnDef="name">
                <mat-header-cell *matHeaderCellDef mat-sort-header>Name</mat-header-cell>
                <mat-cell *matCellDef="let element"> {{ element.name }} </mat-cell>
            </ng-container>

            <!-- Genre -->
            <ng-container matColumnDef="genre">
                <mat-header-cell *matHeaderCellDef mat-sort-header>Genre</mat-header-cell>
                <mat-cell *matCellDef="let element"> {{ element.genre }} </mat-cell>
            </ng-container>

            <!-- Type -->
            <ng-container matColumnDef="type">
                <mat-header-cell *matHeaderCellDef mat-sort-header>Type</mat-header-cell>
                <mat-cell *matCellDef="let element"> {{ element.type }} </mat-cell>
            </ng-container>

            <!-- Page -->
            <ng-container matColumnDef="pages">
                <mat-header-cell *matHeaderCellDef mat-sort-header>Page</mat-header-cell>
                <mat-cell *matCellDef="let element"> {{ element.pages }} </mat-cell>
            </ng-container>

            <!-- Publisher -->
            <ng-container matColumnDef="author">
                <mat-header-cell *matHeaderCellDef mat-sort-header>Author</mat-header-cell>
                <mat-cell *matCellDef="let element"> {{ element.author }} </mat-cell>
            </ng-container>

            <!-- Date -->
            <ng-container matColumnDef="date">
                <mat-header-cell *matHeaderCellDef mat-sort-header>Date</mat-header-cell>
                <mat-cell *matCellDef="let element"> {{ element.date | date}} </mat-cell>
            </ng-container>

            <!-- Price -->
            <ng-container matColumnDef="price">
                <mat-header-cell *matHeaderCellDef mat-sort-header>Price</mat-header-cell>
                <mat-cell *matCellDef="let element"> $ {{ element.price }} </mat-cell>
            </ng-container>

            <!-- Reviews -->
            <ng-container matColumnDef="review">
                <mat-header-cell *matHeaderCellDef mat-sort-header>Reviews</mat-header-cell>
                <mat-cell *matCellDef="let element"> {{ this.reviewService.calculateGradeForBook(element.id) | number }}
                    / 5 </mat-cell>
            </ng-container>

            <!-- Dodaj u korpu -->
            <ng-container matColumnDef="addToCart">
                <mat-header-cell *matHeaderCellDef mat-sort-header>
                    <mat-icon>shopping_cart</mat-icon>
                </mat-header-cell>
                <mat-cell *matCellDef="let element">
                    <button mat-mini-fab color="basic"(click)="addToCart(element)">
                        <mat-icon>add_shopping_cart</mat-icon>
                    </button>
                </mat-cell>
            </ng-container>

            <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
            <mat-row *matRowDef="let rows; columns: displayedColumns"></mat-row>
        </mat-table>
        <mat-paginator [pageSizeOptions]="[4,6,10]" [pageSize]="5">

        </mat-paginator>
    </div>
</section>